Day 12 notes

	global doenst go past that module
	https://stackoverflow.com/questions/4693120/use-of-global-keyword-in-python

		but this gives a hack around, a separate file, Globals.py, for init these
		https://stackoverflow.com/questions/13034496/using-global-variables-between-files

Day 10 notes

	the key to matplotlib is to call plt.pause after:
		ani = animation.FuncAnimation(...)
		plt.show(False)
		plt.pause()

		does it have to be from the main thread?

		can it have stuff occcur in between updates?

		Nec: frames = None ? interval = X ?

		window moveable?

	also for c# matplotlib	
		https://medium.com/@pavel.koryakin/matplotlib-python-module-using-from-c-6e98d75cf08e
			https://github.com/ITGlobal/MatplotlibCS

Day 9 notes

	imshow in a function within a loop, works
		works with waitkey both inside and outside function

	matplotlib redrawing

		https://stackoverflow.com/questions/11874767/real-time-plotting-in-while-loop-with-matplotlib?noredirect=1&lq=1
			
			ali_m has a good answer using matplotlib.blit.
			
			output:
				See the API Changes document (http://matplotlib.org/api/api_changes.html)
				for more details.
				ax.hold(True)
				Blit = False, average FPS: 40.34
				Blit = True, average FPS: 138.47

				(according to release notes, hold=True is by default, if you want hold=False, just clear the axes/figure )

			also note, this version use *G*TkAgg not TkAgg 
				matplotlib.use('GTKAgg')
				see this for forcing /deducing available backends
					https://stackoverflow.com/questions/3285193/how-to-switch-backends-in-matplotlib-python

			this ought to solve it, an official recipe
			https://matplotlib.org/examples/animation/histogram.html

			can you move window while program in session? no!
				maybe set window positioning?
				or use new backend?

		
		>>> matplotlib.__version__
		'2.0.1'

Day 8 notes

	Visual Studio Code preferences:

		"workbench.activityBar.visible": false,
		"workbench.statusBar.visible": false,
		"workbench.editor.showTabs": true,
		"editor.codeLens": false,
		"window.zoomLevel": 0		
		,"workbench.editor.enablePreview": false   #this stops file from opening as a preview
		,"python.linting.pylintArgs": ["--errors-only"]    #these two stop all the squigly markings
		,"python.linting.pylintEnabled": false				#these two stop all the squigly markings
		,"editor.minimap.enabled": false					#fuckin minimap
		,"workbench.iconTheme": "vs-minimal"				#keep it clean

Day 7 notes

	Reading ahead on streaming

		"Encode a 5s camera stream and send the image data to stdout:"
			-https://www.raspberrypi.org/documentation/raspbian/applications/camera.md

		how to stream
		http://www.raspberry-projects.com/pi/pi-hardware/raspberry-pi-camera/streaming-video-using-vlc-player

		https://www.raspberrypi.org/documentation/raspbian/applications/camera.md

		how to use vlc to stream over opencv stdout
		https://stackoverflow.com/questions/36579542/sending-opencv-output-to-vlc-stream

		

Day 6 notes


	> workon cv
	> deactivate [to leave virtual env]

	hello world with rpi cam and cv realtime
		http://www.pyimagesearch.com/2015/03/30/accessing-the-raspberry-pi-camera-with-opencv-and-python/

		test_image.py
		test_video.py
			but why? frame size rounded up to 1920x1080 in PiCameraResolutionRounded


	matplotlib install on rpi, 
	
		don't use pip! or use setup.py from github for a virtualenv
		instead sudo apt-get install python-matplotlib
		was breaking on from matplotlib import pyplot 
		need to use pyplot.show() to show a figure

		actually needed to use the following technique below to install in a virtualenv
		
		http://www.pyimagesearch.com/2015/08/24/resolved-matplotlib-figures-not-showing-up-or-displaying/

			>>> import matplotlib
			>>> matplotlib.get_backend()
			'TkAgg'

			$ sudo apt-get install tcl-dev tk-dev python-tk python3-tk

			$ workon plotting
			$ pip uninstall matplotlib
			$ git clone https://github.com/matplotlib/matplotlib.git
			$ cd matplotlib
			$ python setup.py install




	Git to set user for github

		git config --global user.name "sutt"
		git config --global user.email wsutton17@gmail.com
		
		git config --list --show-origins

		batch changing author information
			https://help.github.com/articles/changing-author-info/

		

Day 5 notes

	
	For using the VGA cable
	http://elinux.org/R-Pi_configuration_file
	http://elinux.org/RPiconfig

		sudo nano /boot/config.txt
		uncomment #hdmi_safe=1   [this is failsafe]
		hdmi_mode=16 			[this works best Set monitor resolution to 1024x768 XGA 60 Hz (HDMI_DMT_XGA_60)]

	
	According to docs, up to 42-49 with full FOV
		https://www.raspberrypi.org/blog/new-camera-mode-released/

		1920×1080 1-30fps, video mode, 1080p30 cropped
		1296×972 1-42fps, video mode, 4:3 aspect binned full FOV. Used for stills preview in raspistill.


	using opencv on pi

		get virtualenv, when you go to startx
			export WORKON_HOME=$HOME/.virtualenvs
			source /usr/local/bin/virtualenvwrapper.sh

			-> need to save these to profile, see setup video

		http://www.pyimagesearch.com/2015/03/30/accessing-the-raspberry-pi-camera-with-opencv-and-python/

	misc

		very interesting on YUV420 
		http://picamera.readthedocs.io/en/release-1.10/recipes2.html

		doing CV on smartphones
		https://stackoverflow.com/questions/3550136/camera-iso-setting-shutter-speed
			https://developer.android.com/reference/android/hardware/camera2/package-summary.html
			https://github.com/PkmX/lcamera


Day 4 notes


IPython utilities
	
	matplotlib

		matplotlib need Pillow to do jpg's
		Only know how to handle extensions: [u'png']; with Pillow installed matplotlib can handle more images

	getting opencv on pi

		http://www.pyimagesearch.com/2016/04/18/install-guide-raspberry-pi-3-raspbian-jessie-opencv-3/

		raspbian jessie
			last update 5/23/2016
			
		cv2.__version__ = 3.2.0
			this is the latest version as of Jan 2017
		



Summary of Day2 

	see commands.txt

	Need ToDo:

		-sub directory
		-video write
		-vf/-hf
		-write text onto img
		-info.xml
		-summarize rpi networking notes
		-python debugger
			-debug with args

	Questions:

		performance of rapsistill [ or picamera] over vid:
			how quickly can we do them?
			consistently?
			quickly change thru settings? into/out of hi-fps



Summary of Day1 Learning:


python fbf.py --file file.h264

	press key 'a' to advance thru frames
	
	make sure the codec.dll's are in the folder's path

to play a h264 on the pi:
		omxplayer file.h264
		
	to play at correct speed
		MP4Box -fps files_fps -add file.h264 file.mp4
			(also this shows how many frames)
		omxplayer file.mp4 [--fps desired_fps]

to preview the FOV of cam:
	
	raspistill [-rot 270] [-vf] [-hf] -t 0 -p 200,200,640,480 -w 640 -h 480
		
		(but rotation doesn't work on raspivid)
		
to take a video with raspivid:

	raspivid -w 640 -h480 -ss 5000[ms] -fps 30 -o output.h264 -t 5000[ms] 
	
		(ss and fps are sometimes conflicting, whichever one comes last overwrites)
		
		fps also alters FOV with > 30ish dropping down to half-FOV
		
to setup ssh on rpi:

	ip addr show
	arp -a
	ping rpi.ip.addr.xx
	sudo raspi-config ~ enable ssh
	pscp pi@192.168.43.243:Desktop/camera1/vid1.h264 myvid.h264

		
Need to Do:

	Basic Ipython notebook where you:
		display a frame, correct colors
		play the video
		have a way to edit sections of video
		have a storage folder to save them
		
	Output frame by frame
		also for 
	
	Attach a tracking algo
		parameterize for different environments
		
	Benchmarks and Tests
		FP/FN
		Speed
		
	Then we can focus on throwing different samples at it
		

Notes 7/5

List IPs on LAN (windows): arp -a
44	
45	7.19
46	
47	# this copies from pi -> laptop; 
48	# reverse arg order for laptop -> pi
49	pscp pi@192.168.43.243:Desktop/camera1/vid1.h264 myvi

https://www.raspberrypi.org/documentation/usage/camera/raspicam/raspivid.md

For Help:
	raspivid 2>&1 | less
	
To make videos playable
	sudo apt-get install -y gpac
	MP4Box -add pivideo.h264 pivideo.mp4
	omxplayer pivideo.mp4

https://www.raspberrypi.org/blog/new-camera-mode-released/

	sudo rpi-update
	
	raspivid -w 640 -h 480 -fps 90 -t 10000 -o test90fps.h264
	
	
https://www.raspberrypi.org/forums/viewtopic.php?f=43&t=76909

	No Shutter as of May2014
	
	Setting fps to 0 tells the camera to use dynamic frame rates. You will get 30 fps until your exposure time is too long to archive 30fps. To enforce a fixed frame rates (i.e. 30fps) the maximum shutter speed needs to be limited to 1/fps. All settings of ss over 33333 will be limited to 33333.

	For me here:
	CODE: SELECT ALL
	 raspivid -ISO 100 -ss 1 -fps 0 -o test2.h264

	does give a complete black video.

	
	The problem of setting -ss first and then -exposure is that the exposure settings will overwrite the shutter speed settings.
	
sudo apt-get install vlc

https://www.techjunkie.com/video-frame-by-frame-vlc/


	
	
	